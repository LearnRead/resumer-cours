<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸ“š Ù…Ù„Ø®ØµØ§Øª Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</title>
<style>
body {
    font-family: "Amiri", serif;
    direction: rtl;
    margin: 0;
    background: #f0f4f8;
    color: #1f2937;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    overflow-x: hidden;
}

/* Wrapper pour sidebar + main */
.wrapper {
    display: flex;
    flex-grow: 1;
    overflow: hidden;
}

/* Sidebar */
.sidebar {
    width: 220px;
    min-width: 180px;
    max-width: 250px;
    background: #1e3a8a;
    color: white;
    padding: 20px 10px;
    box-shadow: -3px 0 8px rgba(0,0,0,0.2);
    flex-shrink: 0;
    overflow-y: auto;
    overflow-x: hidden;
}

.sidebar h2 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 1.4em;
}

.sidebar a {
    display: block;
    color: white;
    padding: 12px 40px;
    text-decoration: none;
    margin: 5px 0;
    border-radius: 8px;
    transition: background 0.2s;
    cursor: pointer;
}

.sidebar a:hover, .sidebar a.active {
    background: #2563eb;
}

/* Main content */
.main {
    flex-grow: 1;
    padding: 20px 30px;
    overflow-y: auto;
}

header {
    text-align: center;
    font-size: 2em;
    padding: 15px;
    margin-bottom: 20px;
    background: linear-gradient(90deg, #3b82f6, #60a5fa);
    color: white;
    border-radius: 12px;
}

/* Search box */
#searchBox {
    display: block;
    width: 90%;
    max-width: 500px;
    margin: 20px auto;
    padding: 10px 15px;
    font-size: 1em;
    border-radius: 12px;
    border: 1px solid #cbd5e1;
}

/* Sections */
.section {
    background: white;
    border-radius: 16px;
    padding: 15px 20px;
    margin-bottom: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    transition: transform 0.2s, box-shadow 0.2s;
}

.section:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

.section h3 {
    margin: 0;
    cursor: pointer;
    color: #2563eb;
}

/* Section content animÃ©e */
.section-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease, opacity 0.5s ease, padding 0.5s ease;
    opacity: 0;
    padding: 0 0;
}

.section-content.open {
    max-height: 2000px;
    opacity: 1;
    padding: 10px 0;
}

/* Matiere content */
.matiere-content {
    opacity: 0;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease, opacity 0.5s ease;
}

.matiere-content.active {
    opacity: 1;
    max-height: 2000px;
}

/* Footer */
footer {
    text-align: center;
    width: 100%;
    padding: 15px;
    background: #e5e7eb;
    color: #555;
    border-top: 1px solid #d1d5db;
}

/* Responsive */
@media (max-width: 768px) {
    .wrapper { flex-direction: column; }
    .sidebar {
        width: 100%;
        display: flex;
        overflow-x: auto;
        overflow-y: hidden;
    }
    .sidebar a { flex: 1; text-align: center; margin: 5px; }
    .main { padding: 10px 15px; }
}
</style>
</head>
<body>

<div class="wrapper">
    <div class="sidebar">
        <h2>Ø§Ù„Ù…ÙˆØ§Ø¯</h2>
        <a onclick="showMatiere('Sira')" class="active">Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©</a>
        <a onclick="showMatiere('Nahw')">Ø§Ù„Ù†Ø­Ùˆ</a>
        <a onclick="showMatiere('Tawhid')">Ø§Ù„ØªÙˆØ­ÙŠØ¯ Ùˆ Ø§Ù„Ø¹Ù‚ÙŠØ¯Ø©</a>
        <a onclick="showMatiere('Fikeh')">Ø§Ù„ÙÙ‚Ù‡</a>
        <a onclick="showMatiere('Tajwid')">Ø§Ù„ØªØ¬ÙˆÙŠØ¯</a>
    </div>

    <div class="main">
        <header>ğŸ“š Ù…Ù„Ø®ØµØ§Øª Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</header>
        <input type="text" id="searchBox" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒÙ„Ù…Ø© ÙÙŠ Ø§Ù„Ù…Ù„Ø®Øµ...">

        <!-- MatiÃ¨res -->
        <div id="Sira" class="matiere-content active">
            <div class="section">
                <h3 onclick="openCourse(this, 'Sira', 1)">Ø¯Ø±Ø³ 1: ØºØ²ÙˆØ© Ø¨Ø¯Ø± Ø§Ù„ÙƒØ¨Ø±Ù‰</h3>
                <div class="section-content"></div>
            </div>
            <div class="section">
                <h3 onclick="openCourse(this, 'Sira', 2)">Ø¯Ø±Ø³ 2: ØªØ´Ø±ÙŠØ¹Ø§Øª Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</h3>
                <div class="section-content"></div>
            </div>
            <div class="section">
                <h3 onclick="openCourse(this, 'Sira', 3)">Ø¯Ø±Ø³ 3: ØªØ´Ø±ÙŠØ¹Ø§Øª Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©</h3>
                <div class="section-content"></div>
            </div>
                   <div class="section">
                <h3 onclick="openCourse(this, 'Sira', 4)">Ø¯Ø±Ø³ 4: ØªØ´Ø±ÙŠØ¹Ø§Øª Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©</h3>
                <div class="section-content"></div>
            </div>

        </div>

        <div id="Nahw" class="matiere-content">
            <div class="section">
                <h3 onclick="openCourse(this, 'Nahw', 1)">Ø¯Ø±Ø³ 1: Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¬Ù…Ù„Ø©</h3>
                <div class="section-content"></div>
            </div>
        </div>

        <div id="Tawhid" class="matiere-content">
            <div class="section">
                <h3 onclick="openCourse(this, 'Tawhid', 1)">Ø¯Ø±Ø³ 1: Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø¹Ù‚ÙŠØ¯Ø©</h3>
                <div class="section-content"></div>
            </div>
        </div>

        <div id="Fikeh" class="matiere-content">
            <div class="section">
                <h3 onclick="openCourse(this, 'Fikeh', 1)">Ø¯Ø±Ø³ 1: Ø§Ù„Ø·Ù‡Ø§Ø±Ø©</h3>
                <div class="section-content"></div>
            </div>
        </div>

        <div id="Tajwid" class="matiere-content">
            <div class="section">
                <h3 onclick="openCourse(this, 'Tajwid', 1)">Ø¯Ø±Ø³ 1: Ù…Ø®Ø§Ø±Ø¬ Ø§Ù„Ø­Ø±ÙˆÙ</h3>
                <div class="section-content"></div>
            </div>
        </div>

    </div>
</div>

<footer>Â© 2025 Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø°ÙƒØ±Ø§Øª Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© â€“ Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ùƒ ğŸ’«</footer>

<script>
// Affiche/cacher matiÃ¨re
function showMatiere(id) {
    document.querySelectorAll('.matiere-content').forEach(div => {
        div.classList.toggle('active', div.id === id);
    });
    document.querySelectorAll('.sidebar a').forEach(a => {
        a.classList.toggle('active', a.getAttribute('onclick').includes(id));
    });
}

// Recherche mot-clÃ©
document.getElementById('searchBox').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const visible = document.querySelector('.matiere-content.active');
    if (!visible) return;
    visible.querySelectorAll('.section').forEach(section => {
        const text = section.textContent.toLowerCase();
        section.style.display = text.includes(query) ? 'block' : 'none';
    });
});

// Toggle + chargement dynamique avec animation
function openCourse(el, matiere, coursNumero) {
    const content = el.nextElementSibling;

    if (content.classList.contains("open")) {
        content.classList.remove("open");
        setTimeout(() => content.scrollIntoView({ behavior: 'smooth', block: 'start' }), 300);
        return;
    }

    if (content.innerHTML.trim() === "") {
        const path = `${matiere}/cour${coursNumero}.html`;
        fetch(path)
            .then(resp => {
                if (!resp.ok) throw new Error("Ù…Ù„Ù Ø§Ù„Ø¯ÙˆØ±Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯");
                return resp.text();
            })
            .then(html => {
                content.innerHTML = html;
                content.classList.add("open");
                setTimeout(() => content.scrollIntoView({ behavior: 'smooth', block: 'start' }), 300);
            })
            .catch(err => {
                content.innerHTML = `<p style="color:red;">Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰: ${err.message}</p>`;
                content.classList.add("open");
            });
    } else {
        content.classList.add("open");
        setTimeout(() => content.scrollIntoView({ behavior: 'smooth', block: 'start' }), 300);
    }
}
</script>

</body>
</html>
